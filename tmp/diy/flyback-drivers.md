---
title: Flyback Drivers
permalink: p/flyback-drivers
layout: default
category: diy
---

First, some electronics background is in order. An excellent discussion of Class-D amplifiers, the half-bridge and full-bridge topologies, gate driving, dead time, and feedback can be found in Sergio Sánchez Moreno and Rod Elliott's article, ["Class D Audio Amplifiers - Theory and Design"](http://sound.westhost.com/articles/pwm.htm).

Driver Circuit Basics
---------------------

### Method of Operation

Flyback transformers are driven by a flyback driver circuit that delivers moderate voltage, moderate current, high-frequency power into the primary coil of the transformer. If the transformer is operating in true flyback mode, this driving power is delivered as a square wave; the square wave is generated by rapidly opening and closing high-power switches that complete a circuit through the primary coil from the power source to ground. High voltages are then produced between the ends of the secondary coil, which may have hundreds of times more turns than the primary.

### Flyback Transformers

The automotive ignition coil, used to generate the high voltages that create the spark in the spark plugs, is a simple flyback transformer. Ignition coils can be had for a few dollars at an automotive parts store or on [Amazon](http://www.amazon.com/OEM-5195-Ignition-Coil/dp/B000CSW79C/). Ignition coils are not internally rectified—the polarity of the high voltage that comes out of the top terminal can be switched by switching the polarity of the primary leads; unrectified flybacks are useful for making "plasma globes" and other dielectric barrier discharge systems, and two unrectified flybacks may be run in antiparallel to generate twice the voltage difference.

Another very common form of flyback transformer provides power to the horizontal deflection system in a CRT TV or monitor; these CRT flybacks can often generate much, much higher voltages than an ignition coil, and it is usually trivial to wind a new primary coil on them to modify the transformer turns ratio. They can be [harvested fairly easily from broken and discarded TVs](https://www.youtube.com/watch?v=9QQNHZCOUzk). Virtually all CRT flybacks have internal rectifiers and doublers; they will only work if the power supplied to the primary has the correct polarity.

Several [excellent guides on flyback transformers are available](/High_Voltage_Components#Flyback_Transformers "wikilink")

### MOSFETs and IGBTs

The ignition coil's designed operating frequency is only around 100 Hz, which is slow enough that simple electromechanical relays could be used as the high-power switches. CRT TV flyback transformers are designed to operate at much higher frequencies from 10-100kHz; power MOSFET (and increasingly, IGBT) transistors are simple, cheap, robust solid-state semiconductor switches that easily operate at these frequencies.

Common MOSFETs and IGBTs used in flyback drivers include:

-   [IRFP250N N-Channel MOSFET](http://www.irf.com/product-info/datasheets/data/irfp250n.pdf)
-   [IRFP260 N-channel MOSFET](http://www.vishay.com/docs/91215/91215.pdf)
-   [IRFP450 N-Channel MOSFET](http://www.vishay.com/docs/91233/91233.pdf)
-   [IRFP540 N-Channel MOSFET](http://www.irf.com/product-info/datasheets/data/irf540n.pdf)
-   [HGTG30N60A/D](http://www.fairchildsemi.com/ds/HG/HGTG30N60A4.pdf)
-   [FGH50N6S2D](https://www.fairchildsemi.com/ds/FG/FGH50N6S2D.pdf)

### Timer ICs

In some flyback driver designs, the MOSFETs are switched on and off by the natural oscillation of passive "LC tank" components in the driver; in others, the switching signal is generated by a timer or pulse-width modulation (PWM) IC.

Common Timer ICs used in flyback drivers include:

-   [555 Timer IC](/555_and_556_Timer_ICs "wikilink")
-   [TL494 PWM IC](http://www.ti.com/product/tl494)
-   [SG3525 Voltage Mode PWM IC](http://www.st.com/web/catalog/sense_power/FM142/CL1454/SC352/PF75184)
-   [UC3844 Current-Mode PWM Controller](http://www.ti.com/product/uc3844)

### MOSFET Driver ICs

Most timer ICs cannot provide sufficient current to rapidly switch a MOSFET by directly driving its gate, so additional transistors or a dedicated MOSFET driver IC is placed between the timer IC and the MOSFET to provide additional gain.

Common MOSFET Driver ICs used in flyback drivers include:

-   [TC4422 gate driver](http://ww1.microchip.com/downloads/en/DeviceDoc/21946B.pdf)
-   [MAX4420 gate driver](http://www.maximintegrated.com/en/products/power/power-switching/MAX4429.html)
-   [UCC37322 9A MOSFET/IGBT driver](http://www.ti.com/product/ucc37322)

A driver can also be built from discrete parts, like the BJT totem pole driver described in the [MOSFET PWM driver guide](http://www.ti.com/lit/ml/slup169/slup169.pdf) and used in [Eirik Uzzors2k's 555 Driver MkII](http://uzzors2k.4hv.org/index.php?page=flybacktransformerdrivers).

### Gate Drive Transformers

Many driver circuits also use gate drive transformers ("GDTs") to drive the gates of their power transistors. GDTs isolate the driver from the MOSFET and provide a straightforward way to drive multiple MOSFETs perfectly in or out of phase with eachother, which is useful for multi-MOSFET half-bridge and full-bridge driver topologies. Eirik at Uzzors2k has an excellent [guide on GDT design and construction](http://uzzors2k.4hv.org/index.php?page=gdthowto).

Driver Topologies
-----------------

### Single-Ended Drivers

These drivers switch power through the flyback transformer primary winding with a single MOSFET. The most basic is the [self-oscillating single-ended 2n3055-based driver](http://wiki.4hv.org/index.php/Flyback_transformer#Simple_Circuits), which requires only a single transistor, a power source, and a two resistors. Smarter versions like the [Kaizer Power Electronics 2n3055 flyback driver](http://kaizerpowerelectronics.dk/high-voltage/2n3055-flyback-driver/) add a capacitor and diode to protect the transistor.

The 2n3055 BJT can't be effectively switched by direct drive from a 555 or TL494 timer IC; the timer should switch an NPN BJT which then switches the 2n3055, like in [this design at Research Media & Cybernetics](http://www.rmcybernetics.com/projects/DIY_Devices/homemade_ignition_coil_driver.htm). As shown, multiple 2n3055 transistors can be run in parallel to spread the load and dissipative snubbers can be added to protect the transistors from voltage spikes. The 2n3055 is fairly fragile (and very many are now counterfeit!), so it is a better bet to use a MOSFET or IGBT instead.

**[Marko Bakula's 555-Based Ignition Coil Driver](http://markobakula.wordpress.com/about/ne555-ignition-coil-driver/)**

**[Eirik Uzzors2k's 555-Based Ignition Coil Driver](http://uzzors2k.4hv.org/index.php?page=flybacktransformerdrivers)**

**[Eirik Uzzors2k's 555-Based Flyback Transformer Drivers](http://uzzors2k.4hv.org/index.php?page=flybacktransformerdrivers)**

The first driver is a simple 555-based direct-drive design; the second version semi-isolates the power and signal Vcc and drives the MOSFET with a complementary pair totem pole composed of [2N3904](http://en.wikipedia.org/wiki/2N3904) and [2N3906](http://en.wikipedia.org/wiki/2N3906) BJT transistors.

**[Bogin Jr's NE555 quasi-resonant flyback driver](http://boginjr.com/electronics/hv/flyback-driver-2/)**

One simple way to reduce the load on the MOSFET is to add a diode and resistor in parallel between the gate driver and the MOSFET gate to speed turn-off; this is used in this driver, as well as Jan Martis' [UC3844](http://www.ti.com/product/uc3844)-based **[Super Flyback Driver](http://mujweb.cz/jmartis/qrv4_en_final.png)** ([YouTube](https://www.youtube.com/watch?v=655uZTywQ5I)) and in **[Plasmana's 555-based flyback driver](http://4hv.org/e107_files/public/1283013951_3108_FT94727_555flybackdesign.pdf)** ([discussion](http://4hv.org/e107_plugins/forum/forum_viewtopic.php?94727)). This improvement (and many others) is described in this [MOSFET PWM driver guide](http://www.ti.com/lit/ml/slup169/slup169.pdf). All three of these drivers also add a quasi-resonant capacitor in parallel with the flyback primary to increase HV output voltage.

### Half-Bridge Drivers

The simple 2n3055 self-oscillating circuit can be upgraded to a push-pull configuration by adding an additional transistor:

-   [Electronic Project Circuits' TV flyback driver with 2N3055](http://www.eleccircuit.com/10-30kv-tv-flyback-driver-with-2n3055/)
-   [4hv.org: Flyback Transformer, Simple Circuits](http://wiki.4hv.org/index.php/Flyback_transformer#Simple_Circuits)

**[Steve Ward's High-Voltage Flyback Driver](http://www.stevehv.4hv.org/FBD.htm)**

This design uses a [555 timer IC](/555_and_556_Timer_ICs "wikilink") to feed a square wave to a [TC4422 gate driver](http://ww1.microchip.com/downloads/en/DeviceDoc/21946B.pdf), which drives two [IRFP260 N-channel MOSFETs](http://www.vishay.com/docs/91215/91215.pdf) via a custom 1:2:2 gate drive transformer. These transistors take turns 'pushing' and 'pulling' current across the flyback transformer's primary.

**[Kaizer Power Electronics TL494 Flyback Driver](http://kaizerpowerelectronics.dk/high-voltage/tl494-flyback-driver/)**

This design uses a [TL494 PWM IC](http://www.ti.com/lit/ds/symlink/tl494.pdf) to feed out-of-phase square-waves to [MAX4420 gate drivers](http://www.maximintegrated.com/en/products/power/power-switching/MAX4429.html), which drive two N-channel MOSFETS (IRFP250N, IRFP260N, IXFK48N50Q) via a custom 15:15:15 gate drive transformer. The TL494 has an output control pin that can be set high for push-pull or pulled to ground for single-ended operation, as well as an integrated dead time controller that prevents shoot-through and could be used to implement soft-start, over-voltage, or over-current protection.

**[Marko Bakula's Half-Bridge Flyback Driver](http://markobakula.wordpress.com/about/half-bridge-flyback-driver/)**

This design uses the [SG3525 Voltage Mode PWM IC](http://www.st.com/web/catalog/sense_power/FM142/CL1454/SC352/PF75184) and a homemade gate drive transformer to drive two IRFP450 MOSFETs out of phase.

**[Marko Bakula's Half-Bridge Ignition Coil Driver](http://markobakula.wordpress.com/about/half-bridge-ignition-coil-driver/)**

This design uses the TL494 and custom gate drive transformer. The ignition coil is fed with rectified 230Vrms mains power!

I can't find an example schematic that uses it, but the [LM5030 push-pull PWM controller](http://www.ti.com/lit/ds/symlink/lm5030.pdf) contains two [current-mode PWM](http://www.edaboard.com/thread56315.html) outputs with built-in 1.5A gate drivers and thermal protection. One of these chips could potentially replace the PWM ICs and gate drivers in the preceding schematics. A [UC1842/3/4/5, UC2842/3/4/5, UC3842/3/4/5 Current Mode PWM Controller](http://www.ti.com/lit/ds/slus223c/slus223c.pdf) could be used similarly.

### Full-Bridge Drivers

**[Steve Connor's TL494-based full-bridge flyback driver](http://scopeboy.com/tesla/tl494-fullbridge.gif)**

This design uses a TL494 PWM IC and a single [TC4429 high-speed MOSFET driver](http://ww1.microchip.com/downloads/en/DeviceDoc/21419D.pdf) to switch four MOSFETs in a full-bridge (aka 'H-bridge') configuration.

**[Steve Ward's TL494-based series-loaded resonant (SLR) full-bridge flyback driver](http://www.stevehv.4hv.org/ccps1.htm)**

This design uses a TL494 PWM IC and two heavy-duty [UCC37322 9A MOSFET/IGBT drivers](http://www.ti.com/product/ucc37322) to drive four monstrous IGBTs ([HGTG30N60A/D](http://www.fairchildsemi.com/ds/HG/HGTG30N60A4.pdf) or [FGH50N6S2D](https://www.fairchildsemi.com/ds/FG/FGH50N6S2D.pdf)) via two custom gate drive transformers.

The design of a Series-Loaded Resonant Power Converter is described in detail in [Marco Denicolai's](http://www.saunalahti.fi/dncmrc1/) thesis work, aka [Project THOR](http://www.saunalahti.fi/dncmrc1/thor.htm):

-   [Project THOR - Power Supply Design](http://www.saunalahti.fi/dncmrc1/thor_smps.htm)
-   [Series Load Resonant Power Supply basics](http://www.saunalahti.fi/dncmrc1/ccps.htm)
-   [Project THOR Design Guidelines](http://www.saunalahti.fi/dncmrc1/thorguid.htm)

Additional discussion on the SLR topology an be found in [Steve Ward's Capacitor Charging Power Supply (CCPTS) Design](http://www.stevehv.4hv.org/ccps1.htm).

### Zero-Volt Switching Mazzilli Royer Oscillator Drivers

The ZVS Royer oscillator–based driver popularized by Vladimiro Mazzilli uses two MOSFETs in a push-pull configuration; the circuit self-oscillates with an LC tank and switches each MOSFET when there is zero voltage across it, dramatically reducing switching losses and resulting MOSFET heating.

**[Khalil Elbaggari's Mazzilli ZVS Driver](http://gaugeboson.com/electronics/high_voltage.html)**

**[Jozef Bogin's ZVS Flyback Driver](http://boginjr.com/electronics/hv/zvs/)**

**[Eirik Uzzors2k's MORE POWER ZVS Flyback Driver](http://uzzors2k.4hv.org/index.php?page=flybacktransformerdrivers)** (scroll down to 'MORE POWER')

### Direct AC Drivers

**[Jozef Bogin's Dual Ignition Coil Driver](http://boginjr.com/electronics/hv/ignition-coil/)**

**[Eirik Uzzors2k's Off-Line Flyback Driver](http://uzzors2k.4hv.org/index.php?page=flybacktransformerdrivers)**

**[4HV Wiki: High Power Flyback Drivers](http://wiki.4hv.org/index.php/Flyback#High_Power_Drivers)**

**[<http://www.pocketmagic.net/2008/12/zvs-flyback-driver/>\#.U_uJjXWx3UZ Radu Motisan's ZVS Flyback Driver]**

Further Improvements
--------------------

### Snubber Circuits

A snubber circuit absorbs transient voltage spikes and protects the driver circuit's MOSFETs from overload.

-   [Contact Performance in Relays: Contact Protection](http://www.leachintl2.com/english/english2/vol6/properties/00049.html) - a tutorial on protecting switches from flyback while driving highly inductive loads. Very relevant to protecting MOSFETS in flyback drivers!
-   [TI snubber circuit design](http://www.ti.com/ww/en/analog/power_management/snubber_circuit_design.html)
-   [University of Saskatchewan snubber circuit design](http://www.engr.usask.ca/classes/EE/443/notes/Snubber_Circuits.pdf)
-   [Rudy Severns - Design of Snubbers for Power Circuits](http://www.cde.com/tech/design.pdf)
-   [Jim Hagerman - Calculating Optimum Snubbers](http://www.hagtech.com/pdf/snubber.pdf)

### Miscellaneous Additions

-   <http://boginjr.com/electronics/hv/flyback-driver-1/>
-   <http://scopeboy.com/tesla/flyback.html>

[Category: DIY](/Category:_DIY "wikilink")
